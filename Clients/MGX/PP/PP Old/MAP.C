// (c) Copyright 1991 MICROGRAFX, Inc., All Rights Reserved.
// This material is confidential and a trade secret.
// Permission to use this work for any purpose must be obtained
// in writing from: MICROGRAFX, 1303 E Arapaho, Richardson, TX  75081
//®PL1¯®FD1¯®TP0¯®BT0¯
#include <windows.h>
#include "astral.h"
#include "data.h"
#include "routines.h"
#include "mclib.h"

BYTE ToMaxi[32] = {
  0,   8,  16,  25,  33,  41,  49,  58,  66,  74,  82,  90,  99, 107, 115, 123, 132, 140, 148, 156, 165, 173, 181, 189, 197, 206, 214, 222, 230, 239, 247, 255};

BYTE Lut255to100[256] = { 0,
  0,  0,  0,  1,  1,  2,  2,  2,  3,  3,  4,  4,  4,  5,  5,  6,  6,  6,  7,  7,
  8,  8,  8,  9,  9, 10, 10, 10, 11, 11, 12, 12, 12, 13, 13, 14, 14, 14, 15, 15,
 16, 16, 16, 17, 17, 18, 18, 18, 19, 19, 20, 20, 20, 21, 21, 22, 22, 22, 23, 23,
 24, 24, 24, 25, 25, 26, 26, 26, 27, 27, 28, 28, 28, 29, 29, 30, 30, 30, 31, 31,
 32, 32, 32, 33, 33, 34, 34, 34, 35, 35, 36, 36, 36, 37, 37, 38, 38, 38, 39, 39,
 40, 40, 40, 41, 41, 42, 42, 42, 43, 43, 44, 44, 44, 45, 45, 46, 46, 46, 47, 47,
 48, 48, 48, 49, 49, 50, 50, 50, 51, 51, 52, 52, 52, 53, 53, 54, 54, 54, 55, 55,
 56, 56, 56, 57, 57, 58, 58, 58, 59, 59, 60, 60, 60, 61, 61, 62, 62, 62, 63, 63,
 64, 64, 64, 65, 65, 66, 66, 66, 67, 67, 68, 68, 68, 69, 69, 70, 70, 70, 71, 71,
 72, 72, 72, 73, 73, 74, 74, 74, 75, 75, 76, 76, 76, 77, 77, 78, 78, 78, 79, 79,
 80, 80, 80, 81, 81, 82, 82, 82, 83, 83, 84, 84, 84, 85, 85, 86, 86, 86, 87, 87,
 88, 88, 88, 89, 89, 90, 90, 90, 91, 91, 92, 92, 92, 93, 93, 94, 94, 94, 95, 95,
 96, 96, 96, 97, 97, 98, 98, 98, 99, 99,100,100,100,100,100
};

#ifdef UNUSED
BYTE Lut100to255[256] = {
  0,  3,  5,  8, 10, 13, 15, 18, 20, 23, 25, 28, 30, 33, 35, 38, 40, 43, 45, 48,
 50, 53, 55, 58, 60, 63, 65, 68, 70, 73, 75, 78, 80, 83, 85, 88, 90, 93, 95, 98,
100,103,105,108,110,113,115,118,120,123,125,128,130,133,135,138,140,143,145,148,
150,153,155,158,160,163,165,168,170,173,175,178,180,183,185,188,190,193,195,198,
200,203,205,208,210,213,215,218,220,223,225,228,230,233,235,238,240,243,245,248,
255,
  0,  3,  5,  8, 10, 13, 15, 18, 20, 23, 25, 28, 30, 33, 35, 38, 40, 43, 45, 48,
 50, 53, 55, 58, 60, 63, 65, 68, 70, 73, 75, 78, 80, 83, 85, 88, 90, 93, 95, 98,
100,103,105,108,110,113,115,118,120,123,125,128,130,133,135,138,140,143,145,148,
150,153,155,158,160,163,165,168,170,173,175,178,180,183,185,188,190,193,195,198,
200,203,205,208,210,213,215,218,220,223,225,228,230,233,235,238,240,243,245,248,
255,
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
};
#endif

BYTE ShiftUp2Lut[256] = {
  0,  4,  9, 13, 17, 21, 25, 29, 33, 37, 41, 45, 49, 53, 57, 61, 65, 69, 73, 77,
 81, 85, 89, 94, 98,102,106,110,114,118,122,126,130,134,138,142,146,150,154,158,
162,166,170,174,179,183,187,191,195,199,203,207,211,215,219,223,227,231,235,239,
243,247,251,255,
  0,  4,  9, 13, 17, 21, 25, 29, 33, 37, 41, 45, 49, 53, 57, 61, 65, 69, 73, 77,
 81, 85, 89, 94, 98,102,106,110,114,118,122,126,130,134,138,142,146,150,154,158,
162,166,170,174,179,183,187,191,195,199,203,207,211,215,219,223,227,231,235,239,
243,247,251,255,
  0,  4,  9, 13, 17, 21, 25, 29, 33, 37, 41, 45, 49, 53, 57, 61, 65, 69, 73, 77,
 81, 85, 89, 94, 98,102,106,110,114,118,122,126,130,134,138,142,146,150,154,158,
162,166,170,174,179,183,187,191,195,199,203,207,211,215,219,223,227,231,235,239,
243,247,251,255,
  0,  4,  9, 13, 17, 21, 25, 29, 33, 37, 41, 45, 49, 53, 57, 61, 65, 69, 73, 77,
 81, 85, 89, 94, 98,102,106,110,114,118,122,126,130,134,138,142,146,150,154,158,
162,166,170,174,179,183,187,191,195,199,203,207,211,215,219,223,227,231,235,239,
243,247,251,255,
};

/************************************************************************/
void map( lut, buf, count )
/************************************************************************/
LPTR lut, buf;
int count;
{
while ( --count >= 0 )
	{
	*buf = lut[*buf];
	buf++;
	}
}


/************************************************************************/
void map16( lut, buf, count )
/************************************************************************/
LPWORD lut, buf;
int count;
{
while ( --count >= 0 )
	{
	*buf++ = lut[*buf];
	}
}


